# Use cases

## Swap offers: W1 200ff -> 600ee, W2 600ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 600ee
- wallet W2 wants to exchange 600ee for 200ff
- W1 meets fitting offer from W2
- W3 is a performer
- W1 pays 200ff and gets 600ee
- W2 pays 600ee and gets 200ff

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000600
| ADA  | 99992170
|  ff  | 99999800

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 99984370
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 600ee, W2 400ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 600ee
- wallet W2 wants to exchange 400ee for 200ff
- W1 meets fitting offer from W2
- W3 is a performer
- W1 pays 200ff and gets 600ee
- W2 pays 400ee and gets 200ff
- W3 pays 200ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999600

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000600
| ADA  | 99992170
|  ff  | 99999800

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 99984370
|  ff  | 100000000
|  ee  | 99999800

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 600ee, W2 400ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 600ee
- wallet W2 wants to exchange 400ee for 200ff
- W1 meets fitting offer from W2
- W1 is a performer
- W1 pays 200ff and gets 400ee
- W2 pays 400ee and gets 200ff

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999600

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000400
| ADA  | 99976540
|  ff  | 99999800

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 600ee, W2 400ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 600ee
- wallet W2 wants to exchange 400ee for 200ff
- W1 meets fitting offer from W2
- W2 is a performer
- W1 pays 200ff and gets 600ee
- W2 pays 600ee and gets 200ff

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99976540
|  ee  | 99999400

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000600
| ADA  | 99992170
|  ff  | 99999800

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 400ee, W2 600ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 400ee
- wallet W2 wants to exchange 600ee for 200ff
- W1 meets fitting offer from W2
- W3 is a performer
- W1 pays 200ff and gets 400ee
- W2 pays 600ee and gets 200ff
- W3 gets 200ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000400
| ADA  | 99992170
|  ff  | 99999800

#### Wallet W3

| coin | amount
|------|---------
|  ee  | 100000200
|  ff  | 100000000
| ADA  | 99984370

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 400ee, W2 600ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 400ee
- wallet W2 wants to exchange 600ee for 200ff
- W1 meets fitting offer from W2
- W1 is a performer
- W1 pays 200ff and gets 600ee
- W2 pays 600ee and gets 200ff

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000600
|  ff  | 99999800
| ADA  | 99976540

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 400ee, W2 600ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 400ee
- wallet W2 wants to exchange 600ee for 200ff
- W1 meets fitting offer from W2
- W2 is a performer
- W1 pays 200ff
- W2 gets 200ff

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ee  | 99999800
|  ff  | 100000000
| ADA  | 99984350

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99984360
|  ff  | 100000000
|  ee  | 100000200

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 600ee, W2 600ee -> 200ff, W3 600ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 600ee
- wallet W2 wants to exchange 600ee for 200ff
- wallet W3 wants to exchange 600ee for 200ff
- W1 meets fitting offer from W2
- W1 meets fitting offer from W3
- W4 is a performer
- W1 pays 200ff and gets 600ee
- W2 pays 600ee and gets 200ff
- W3 pays 600ee and gets 200ff
- W4 pays 200ff and gets 600ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
|  ee  | 100000600
|  ff  | 99999800
| ADA  | 99976560

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000600
| ADA  | 99992170
|  ff  | 99999800

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 600ee, W2 600ee -> 200ff, W3 600ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 600ee
- wallet W2 wants to exchange 600ee for 200ff
- wallet W3 wants to exchange 600ee for 200ff
- W1 meets fitting offer from W2
- W1 meets fitting offer from W3
- W1 is a performer
- W1 pays 400ff and gets 1200ee
- W2 pays 600ee and gets 200ff
- W3 pays 600ee and gets 200ff

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100001200
|  ff  | 99999600
| ADA  | 99968730

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 600ee, W2 600ee -> 200ff, W3 600ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 600ee
- wallet W2 wants to exchange 600ee for 200ff
- wallet W3 wants to exchange 600ee for 200ff
- W1 meets fitting offer from W2
- W1 meets fitting offer from W3
- W2 is a performer
- W1 pays 200ff and gets 600ee
- W3 pays 600ee and gets 200ff

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ee  | 100000000
|  ff  | 100000000
| ADA  | 99968730

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000600
| ADA  | 99992170
|  ff  | 99999800

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Swap offers: W1 200ff -> 600ee, W2 600ee -> 200ff, W3 600ee -> 200ff

### Scenario

- wallet W1 wants to exchange 200ff for 600ee
- wallet W2 wants to exchange 600ee for 200ff
- wallet W3 wants to exchange 600ee for 200ff
- W1 meets fitting offer from W2
- W1 meets fitting offer from W3
- W3 is a performer
- W1 pays 200ff and gets 600ee
- W2 pays 600ee and gets 200ff

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999400

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000600
| ADA  | 99992170
|  ff  | 99999800

#### Wallet W3

| coin | amount
|------|---------
|  ee  | 100000000
|  ff  | 100000000
| ADA  | 99968730

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

## Liquidity Orders: W1 200ff -> 600ee fee 1/100 | Swap offers: W2 606ee -> 200ff

### Scenario

- wallet W1 sets liquidity of 200ff and 600ee with fee 1/100
- wallet W2 wants to exchange 606ee for 200ff
- W2 meets fitting offer from W1
- W3 is a performer
- W1 pays 200ff
- W2 pays 606ee and gets 200ff
- script holds 606ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999394

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999980
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 99984370
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 606

## Liquidity Orders: W1 200ff -> 600ee fee 1/100 | Swap offers: W2 606ee -> 200ff

### Scenario

- wallet W1 sets liquidity of 200ff and 600ee with fee 1/100
- wallet W2 wants to exchange 606ee for 200ff
- W2 meets fitting offer from W1
- W1 is a performer
- W1 pays 200ff
- W2 pays 606ee and gets 200ff
- script holds 606ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999394

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99984350
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 606

## Liquidity Orders: W1 200ff -> 600ee fee 1/100 | Swap offers: W2 606ee -> 200ff

### Scenario

- wallet W1 sets liquidity of 200ff and 600ee with fee 1/100
- wallet W2 wants to exchange 606ee for 200ff
- W2 meets fitting offer from W1
- W2 is a performer
- W1 pays 200ff
- W2 pays 606ee and gets 200ff
- script holds 606ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99976540
|  ee  | 99999394

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999980
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 606

## Liquidity Orders: W1 200ff -> 400ee 1/100 | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff

### Scenario

- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
- wallet W2 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 404ee for 200ff
- W2 meets fitting offer from W1
- W3 meets fitting offer from W1
- W4 is a performer
- W1 pays 200ff
- W2 pays 404ee and gets 200ff
- W3 pays 404ee and gets 200ff
- W4 pays 200ff and gets 404ee
- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
|  ee  | 100000404
|  ff  | 99999800
| ADA  | 99976560

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999990
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 404

## Liquidity Orders: W1 200ff -> 400ee 1/100 | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff

### Scenario

- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
- wallet W2 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 404ee for 200ff
- W2 meets fitting offer from W1
- W3 meets fitting offer from W1
- W1 is a performer
- W1 pays 400ee and gets 404ff
- W2 pays 404ee and gets 200ff
- W3 pays 404ee and gets 200ff
- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000404
|  ff  | 99999600
| ADA  | 99976550

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 404

## Liquidity Orders: W1 200ff -> 400ee 1/100 | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff

### Scenario

- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
- wallet W2 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 404ee for 200ff
- W2 meets fitting offer from W1
- W3 meets fitting offer from W1
- W2 is a performer
- W1 pays 200ee
- W3 pays 404ee and gets 200ff
- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000000
| ADA  | 99968730
|  ee  | 100000000

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999990
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 404

## Liquidity Orders: W1 200ff -> 400ee 1/100 | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff

### Scenario

- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
- wallet W2 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 200ff for 404ee
- W2 meets fitting offer from W1
- W3 meets fitting offer from W1
- W2 meets fitting offer from W4
- W3 meets fitting offer from W4
- W4 is a performer
- W1 pays 200ee
- W2 pays 404ee and gets 200ff
- W3 pays 404ee and gets 200ff
- W4 pays 200ff and gets 404ee
- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999990
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
|  ee  | 100000000
|  ff  | 100000000
| ADA  | 99968730

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 404

## Liquidity Orders: W1 200ff -> 400ee (1,100) | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff, W4 200ff -> 404ee

### Scenario

- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
- wallet W2 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 404ee for 200ff
- W2 meets fitting offer from W1
- W3 meets fitting offer from W1
- W3 is a performer
- W1 pays 200ee
- W2 pays 404ee and gets 200ff
- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
|  ff  | 100000404
| ADA  | 99992170
|  ee  | 99999800

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999990
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W5

| coin | amount
|------|---------
|  ee  | 100000604
|  ff  | 99999396
| ADA  | 99968750

#### Script

| coin | amount
|------|---------
|  ee  | 404

## Liquidity Orders: W1 200ff -> 400ee (1,100) | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff, W4 200ff -> 404ee

### Scenario

-- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
-- wallet W2 wants to exchange 404ee for 200ff
-- wallet W3 wants to exchange 404ee for 200ff
-- wallet W3 wants to exchange 200ff for 404ee
-- W2 meets fitting offer from W1
-- W3 meets fitting offer from W1
-- W2 meets fitting offer from W4
-- W3 meets fitting offer from W4
-- W5 is a performer
-- W1 pays 200ee
-- W2 pays 404ee and gets 200ff
-- W3 pays 404ee and gets 200ff
-- W4 pays 200ee and gets 404ff
-- W5 pays 604ff and gets 604ee
-- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
|  ff  | 100000404
| ADA  | 99992170
|  ee  | 99999800

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W1

| coin | amount
|------|---------
|  ee  | 100000604
|  ff  | 99999196
| ADA  | 99968740

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 404

## Liquidity Orders: W1 200ff -> 400ee (1,100) | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff, W4 200ff -> 404ee

### Scenario

- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
- wallet W2 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 200ff for 404ee
- W2 meets fitting offer from W1
- W3 meets fitting offer from W1
- W2 meets fitting offer from W4
- W3 meets fitting offer from W4
- W1 is a performer
- W1 pays 804ee and gets 604ee
- W2 pays 404ee and gets 200ff
- W3 pays 404ee and gets 200ff
- W4 pays 200ee and gets 404ff
- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
|  ff  | 100000404
| ADA  | 99992170
|  ee  | 99999800

#### Wallet W2

| coin | amount
|------|---------
|  ee  | 100000200
|  ff  | 99999596
| ADA  | 99960920

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999990
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 404

## Liquidity Orders: W1 200ff -> 400ee (1,100) | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff, W4 200ff -> 404ee

### Scenario

- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
- wallet W2 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 200ff for 404ee
- W2 meets fitting offer from W1
- W3 meets fitting offer from W1
- W2 meets fitting offer from W4
- W3 meets fitting offer from W4
- W2 is a performer
- W1 pays 200ee
- W2 pays 404ee and gets 200ff
- W3 pays 404ee and gets 200ff
- W4 pays 200ee and gets 404ff
- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
|  ff  | 100000404
| ADA  | 99992170
|  ee  | 99999800

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999990
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
|  ee  | 100000200
|  ff  | 99999596
| ADA  | 99960920

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 404

## Liquidity Orders: W1 200ff -> 400ee (1,100) | Swap offers: W2 404ee -> 200ff, W3 404ee -> 200ff, W4 200ff -> 404ee

### Scenario

- wallet W1 sets liquidity of 200ff and 400ee with fee 1/100
- wallet W2 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 404ee for 200ff
- wallet W3 wants to exchange 200ff for 404ee
- W2 meets fitting offer from W1
- W3 meets fitting offer from W1
- W2 meets fitting offer from W4
- W3 meets fitting offer from W4
- W3 is a performer
- W1 pays 200ee
- W2 pays 404ee and gets 200ff
- W3 pays 404ee and gets 200ff
- W4 pays 200ee and gets 404ff
- script holds 404ee

### Final balances

#### Wallet W4

| coin | amount
|------|---------
|  ff  | 99999800
| ADA  | 99960920
|  ee  | 100000404

#### Wallet W2

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W1

| coin | amount
|------|---------
| ADA  | 99999990
|  ff  | 99999800
|  ee  | 100000000

#### Wallet W3

| coin | amount
|------|---------
|  ff  | 100000200
| ADA  | 99992170
|  ee  | 99999596

#### Wallet W5

| coin | amount
|------|---------
| ADA  | 100000000
|  ff  | 100000000
|  ee  | 100000000

#### Script

| coin | amount
|------|---------
|  ee  | 404
